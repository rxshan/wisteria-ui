import 'wisteria-ui/animate/style/index.scss';
import { Animate } from 'wisteria-ui';
import { Callout } from 'nextra/components';
import { CodeDemoArea, ConfigAPI } from '../components';
import {
  ZoomDemo,
  FadeDemo,
  AnimateDemo,
  CollapseDemo
} from '../examples/Animate';

# Animate

```tsx
import { Animate } from 'wisteria-ui';
```

<Callout type="info">
  该组件基于第三方库
  [preact-transitioning](https://www.npmjs.com/package/preact-transitioning)。
</Callout>

## 用法

### Zoom

```tsx
<Animate.Zoom in>Zoom</Animate.Zoom>
```

<CodeDemoArea label="Zoom Transition">
  <AnimateDemo defaultVisible TransitionComponent={Animate.Zoom} />
</CodeDemoArea>

### Fade

```tsx
<Animate.Fade in>Fade</Animate.Fade>
```

<CodeDemoArea label="Fade Transition">
  <AnimateDemo TransitionComponent={Animate.Fade} />
</CodeDemoArea>

### Collapse

```tsx
<Animate.Collapse in>
  <div>Collapse</div>
</Animate.Collapse>
```

<CodeDemoArea label="Collapse Transition">
  <CollapseDemo />
</CodeDemoArea>

### Ripple

<Callout type="warning">TODO</Callout>

<CodeDemoArea label="Ripple Transition">
  <div class="text-white cursor-pointer bg-violet-400 w-56 h-24 rounded relative flex items-center justify-center">
    <span class="font-bold text-2xl italic">Ripple</span>
    <Animate.Ripple />
  </div>
</CodeDemoArea>

## API

### Animate

<Callout type="info">**Zoom**、**Fade** 组件属性。</Callout>

```tsx
type AimateChildren =
  | VNode
  | ((parameter: {
      phase: Phase;
      state: TransitionState;
      phaseClass: PhaseClass;
    }) => JSX.Element);
```

<Callout type="warning">
  当 **children** 是一个函数时，**className** 将不会起作用，可以通过
  **phaseClass** 获取组件当前状态类名。
</Callout>

<ConfigAPI
  list={[
    {
      property: 'in',
      description: '是否可见',
      typedef: 'boolean'
    },
    {
      property: 'className',
      description: '用于定义动画的类名',
      typedef: 'string',
      defaultValue: 'animate'
    },
    {
      property: 'destoryOnClosed',
      description: '关闭后是否销毁节点',
      typedef: 'boolean',
      defaultValue: 'true'
    },
    {
      property: 'children',
      description: '子组件',
      typedef: 'AimateChildren'
    },
    {
      property: 'appear',
      description: '组件首次渲染状态',
      typedef: 'boolean',
      defaultValue: 'true'
    },
    {
      property: 'enter',
      description: '组件渲染状态',
      typedef: 'boolean'
    },
    {
      property: ' exit',
      description: '组件隐藏状态',
      typedef: 'boolean'
    },
    {
      property: 'duration',
      description: '动画持续时间',
      typedef: 'number',
    }

]}
/>

### Collpase

<Callout type="info">基于 **Animate** 组件，下面为额外新增属性。</Callout>

<ConfigAPI
  list={[
    {
      property: 'direction',
      description: '收缩方向',
      typedef: 'horizontal | vertical'
    }
  ]}
/>
